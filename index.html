<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Simulator Kepala Sekolah</title>
<style>
body {
  margin: 0;
  background: #111;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
canvas {
  border: 4px solid #4caf50;
  image-rendering: pixelated;
}
</style>
</head>

<body>
<canvas id="game" width="640" height="480"></canvas>

<script>
// ===== CANVAS =====
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

// ===== TILE & MAP =====
const tileSize = 32;
const mapCols = 50;
const mapRows = 50;

// 0=rumput, 1=kelas, 2=kantin, 3=lapangan
const map = Array.from({ length: mapRows }, (_, y) =>
  Array.from({ length: mapCols }, (_, x) => {
    if (x > 10 && x < 20 && y > 10 && y < 20) return 1; // kelas
    if (x > 25 && x < 35 && y > 12 && y < 18) return 2; // kantin
    if (x > 15 && x < 30 && y > 30 && y < 40) return 3; // lapangan
    return 0; // rumput
  })
);

// ===== PLAYER =====
const player = {
  x: 5,
  y: 5,
  speed: 0.1
};

// ===== CAMERA =====
const camera = {
  x: 0,
  y: 0
};

// ===== INPUT =====
const keys = {};
window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

// ===== UPDATE =====
function update() {
  if (keys["ArrowUp"] || keys["w"]) player.y -= player.speed;
  if (keys["ArrowDown"] || keys["s"]) player.y += player.speed;
  if (keys["ArrowLeft"] || keys["a"]) player.x -= player.speed;
  if (keys["ArrowRight"] || keys["d"]) player.x += player.speed;

  player.x = Math.max(0, Math.min(mapCols - 1, player.x));
  player.y = Math.max(0, Math.min(mapRows - 1, player.y));

  // Kamera mengikuti player
  camera.x = player.x * tileSize - canvas.width / 2;
  camera.y = player.y * tileSize - canvas.height / 2;

  camera.x = Math.max(0, Math.min(camera.x, mapCols * tileSize - canvas.width));
  camera.y = Math.max(0, Math.min(camera.y, mapRows * tileSize - canvas.height));
}

// ===== DRAW MAP =====
function drawMap() {
  for (let y = 0; y < mapRows; y++) {
    for (let x = 0; x < mapCols; x++) {
      let color = "#4caf50"; // rumput
      if (map[y][x] === 1) color = "#90a4ae"; // kelas
      if (map[y][x] === 2) color = "#ffcc80"; // kantin
      if (map[y][x] === 3) color = "#81c784"; // lapangan

      ctx.fillStyle = color;
      ctx.fillRect(
        x * tileSize - camera.x,
        y * tileSize - camera.y,
        tileSize,
        tileSize
      );
    }
  }
}

// ===== DRAW PLAYER =====
function drawPlayer() {
  ctx.fillStyle = "#ffeb3b";
  ctx.fillRect(
    player.x * tileSize - camera.x + 6,
    player.y * tileSize - camera.y + 6,
    20,
    20
  );
}

// ===== GAME LOOP =====
function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  update();
  drawMap();
  drawPlayer();
  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>



